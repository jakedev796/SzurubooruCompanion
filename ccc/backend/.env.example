# --- Szurubooru ---
SZURU_URL=http://your-szurubooru-host:8080
# Public URL for browser links (if different from SZURU_URL, e.g. behind a reverse proxy)
# SZURU_PUBLIC_URL=https://booru.example.com
# Single user:
SZURU_USERNAME=your_username
SZURU_TOKEN=your_api_token
# Multi-user (comma-delimited, first user is the default):
# SZURU_USERNAME=user1,user2
# SZURU_TOKEN=token1,token2
# Category for tags when we can't resolve (must match one of your SZURU_CATEGORY_* names below)
SZURU_DEFAULT_TAG_CATEGORY=general
# Your Szurubooru instance's category names (one per slot). Source names like author/circle/studio are mapped in code.
# If your instance uses different names (e.g. Creator instead of artist), set SZURU_CATEGORY_ARTIST=Creator
SZURU_CATEGORY_GENERAL=general
SZURU_CATEGORY_ARTIST=artist
SZURU_CATEGORY_CHARACTER=character
SZURU_CATEGORY_COPYRIGHT=copyright
SZURU_CATEGORY_META=meta

# --- Database (Postgres) ---
DATABASE_URL=postgresql+asyncpg://ccc:ccc@postgres:5432/ccc

# --- Redis ---
REDIS_URL=redis://redis:6379/0

# --- WD14 Tagger (in-process via wdtagger; no separate container) ---
WD14_ENABLED=true
WD14_MODEL=SmilingWolf/wd-swinv2-tagger-v3
WD14_CONFIDENCE_THRESHOLD=0.35
WD14_MAX_TAGS=30
# CPU: run tag() in subprocess so PyTorch can use all cores (no GIL). Set false to use thread pool.
WD14_USE_PROCESS_POOL=true
# Thread pool size when not using process pool; also caps parallel images when batching.
# WD14_NUM_WORKERS=4
# Optional: CPU threads inside tagger process (e.g. in Docker set to container CPU limit)
# OMP_NUM_THREADS=4

# --- CCC API auth (leave empty to disable auth) ---
API_KEY=

# --- Worker ---
# Number of jobs to process concurrently (default: 1)
WORKER_CONCURRENCY=3
JOB_DATA_DIR=/data/jobs
GALLERY_DL_TIMEOUT=120
YTDLP_TIMEOUT=300
MAX_RETRIES=3
RETRY_DELAY=5.0

# --- Gallery-DL ---
# Path to gallery-dl config file
GALLERY_DL_CONFIG_FILE=/config.json

# Twitter
# Requires cookies for reliable access; username/password often insufficient
# Netscape-format cookie content (paste the full export)
# example cookie: ".x.com	TRUE	/	TRUE	1234567890	auth_token	example_token..."
# TWITTER_COOKIES=".x.com	TRUE	/	TRUE	1234567890	auth_token	example_token..."

TWITTER_USERNAME=
TWITTER_PASSWORD=

# Misskey
MISSKEY_USERNAME=
MISSKEY_PASSWORD=

# Sankaku (sankaku.app / sankakucomplex.com)
SANKAKU_USERNAME=
SANKAKU_PASSWORD=

# Danbooru
DANBOORU_API_KEY=
DANBOORU_USER_ID=

# Gelbooru
GELBOORU_API_KEY=
GELBOORU_USER_ID=

# Rule34.xxx (api.rule34.xxx for API key and user id)
RULE34_API_KEY=
RULE34_USER_ID=

# Reddit
REDDIT_CLIENT_ID=
REDDIT_CLIENT_SECRET=
REDDIT_USERNAME=

# --- Dashboard auth (optional). If both set, API accepts X-API-Key OR Basic auth. ---
# If set, API key needs to be set for mobile app to work.
DASHBOARD_USER=
DASHBOARD_PASSWORD=

# --- Static frontend (single-container mode only; leave unset for docker-compose) ---
# STATIC_FILES_DIR=/app/frontend

# --- Server ---
HOST=0.0.0.0
PORT=21425
DEBUG=false
LOG_LEVEL=INFO
CORS_ORIGINS=*
