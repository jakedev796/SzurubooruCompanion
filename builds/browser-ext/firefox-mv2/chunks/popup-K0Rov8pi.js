import{a as c,i,s as l,b as d}from"./api-T-0tD3QQ.js";document.addEventListener("DOMContentLoaded",async()=>{const t=await c(),s=await i();if(!t.baseUrl){window.location.href="setup.html";return}if(!s){window.location.href="login.html";return}const a=document.getElementById("baseUrl"),o=document.getElementById("save"),e=document.getElementById("msg");a.value=t.baseUrl,o.addEventListener("click",async()=>{const n=a.value.trim().replace(/\/+$/,"");if(!n){e.textContent="Base URL is required.",e.className="msg err";return}await l({baseUrl:n});try{await d({})}catch(r){console.warn("Failed to sync preferences:",r)}e.textContent="Saved.",e.className="msg ok"})});
